<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>CriptoEducación - Curso 1</title>
  <link rel="stylesheet" href="assets/css/curso1.css">
  <link rel="manifest" href="/manifest.json">
  <meta name="theme-color" content="#00ffea">
  <!-- Se incluyen Chart.js y GSAP -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
  <style>
    /* Estilos básicos (puedes trasladarlos a assets/css/curso1.css) */
    body {
      background-color: #0f0f0f;
      color: #f0f0f0;
      font-family: sans-serif;
      padding: 20px;
    }
    .navbar ul {
      list-style: none;
      padding: 0;
    }
    .navbar ul li {
      display: inline-block;
      margin-right: 15px;
    }
    .navbar a {
      color: #00ffea;
      text-decoration: none;
    }
    .section {
      background: #1a1a1a;
      padding: 20px;
      margin-bottom: 30px;
      border-radius: 12px;
      box-shadow: 0 0 20px rgba(0, 255, 234, 0.3);
    }
    .section h3 {
      margin-top: 0;
    }
    .toggle-button {
      display: inline-block;
      margin-top: 10px;
      padding: 8px 16px;
      background: linear-gradient(90deg, #00f2fe, #4facfe);
      border: none;
      border-radius: 5px;
      color: #fff;
      cursor: pointer;
      transition: transform 0.3s;
    }
    .toggle-button:hover {
      transform: scale(1.05);
    }
    .toggle-content {
      margin-top: 15px;
      padding: 10px;
      background-color: rgba(0, 255, 234, 0.05);
      border-radius: 8px;
      color: #ccc;
    }
    .section-image {
      width: 100%;
      max-width: 600px;
      margin-top: 20px;
      border-radius: 10px;
      box-shadow: 0 4px 12px rgba(0, 255, 234, 0.4);
    }
    canvas {
      margin-top: 20px;
    }
    .video-container {
      display: flex;
      justify-content: center;
      margin: 20px 0;
    }
    .video-player {
      width: 100%;
      max-width: 800px;
      border: 3px solid #00ffea;
      border-radius: 12px;
    }
    .centered-button {
      display: flex;
      justify-content: center;
      margin-top: 10px;
    }
    .watch-button {
      background: linear-gradient(135deg, #00f0ff, #0088ff);
      border: none;
      color: white;
      padding: 10px 25px;
      font-size: 16px;
      font-weight: bold;
      border-radius: 10px;
      cursor: pointer;
      transition: transform 0.2s, box-shadow 0.2s;
    }
    .watch-button:hover {
      transform: scale(1.05);
      box-shadow: 0 0 15px #00f0ff;
    }
  </style>
</head>
<body>
  <header class="navbar">
    <h1>CriptoEducación</h1>
    <nav>
      <ul>
        <li><a href="#intro">Introducción</a></li>
        <li><a href="#bitcoin">Bitcoin</a></li>
        <li><a href="#wallets">Wallets</a></li>
      </ul>
    </nav>
  </header>

  <!-- SECCIÓN 1.1: ¿Qué es el dinero digital? -->
  <section class="section" id="intro">
    <h3>1.1 ¿Qué es el dinero digital?</h3>
    <p>El dinero digital es una forma de moneda que existe únicamente en formato electrónico...</p>
    <button class="toggle-button" data-section="1.1">Más información</button>
    <div class="toggle-content" id="info-1.1" style="display: none;">
      <p>El dinero digital utiliza tecnología blockchain para garantizar transacciones seguras y descentralizadas.</p>
      <p>Además de blockchain, existen otras plataformas digitales como las fintech, bancos digitales y aplicaciones móviles que permiten realizar pagos, ahorrar y transferir fondos sin la necesidad de efectivo.</p>
      <p>Una de las mayores ventajas del dinero digital es su capacidad para eliminar intermediarios y ofrecer acceso económico incluso a comunidades sin servicios bancarios tradicionales.</p>
      <p>Desde criptomonedas como Bitcoin y Ethereum hasta stablecoins respaldadas por activos reales, el ecosistema del dinero digital está transformando el sistema financiero global, promoviendo una mayor transparencia, rapidez y eficiencia.</p>
    </div>
    <img src="assets/images/introduccion-dinero-digital.jpg" alt="Introducción al Dinero Digital" class="section-image">
  </section>

  <!-- SECCIÓN 1.2: Ventajas del dinero digital -->
  <section class="section" id="advantages">
    <h3>1.2 Ventajas del dinero digital</h3>
    <ul>
      <li><strong>Transacciones globales instantáneas:</strong> Permite enviar y recibir dinero al instante, sin importar la ubicación geográfica, eliminando intermediarios y tiempos de espera.</li>
      <li><strong>Bajas comisiones:</strong> Muchas plataformas de dinero digital tienen costos de operación significativamente menores comparados con los sistemas bancarios tradicionales.</li>
      <li><strong>Inclusión financiera:</strong> Brinda acceso a servicios financieros a millones de personas en el mundo que no tienen una cuenta bancaria, especialmente en zonas rurales o países en desarrollo.</li>
      <li><strong>Mayor seguridad y trazabilidad:</strong> Gracias al uso de tecnologías como blockchain, las transacciones son transparentes, seguras y difíciles de falsificar.</li>
      <li><strong>Facilidad de uso:</strong> Con solo un teléfono móvil e Internet, cualquier persona puede realizar pagos, ahorrar o invertir, sin necesidad de papeleos ni largas esperas.</li>
    </ul>
    <button class="toggle-button" data-section="1.2">Más información</button>
    <div class="toggle-content" id="info-1.2" style="display: none;">
      <p>Además de lo anterior, el dinero digital facilita la integración con nuevos modelos de negocio, como las finanzas descentralizadas (DeFi) y las aplicaciones de economía colaborativa. Esto impulsa la innovación en el sector financiero y permite el surgimiento de servicios personalizados para distintos mercados.</p>
      <p>Las plataformas digitales ofrecen interfaces intuitivas y sistemas de notificación en tiempo real, mejorando significativamente la experiencia del usuario.</p>
    </div>
    <img src="assets/images/ventajas-dinero-digital.jpg" alt="Ventajas del Dinero Digital" class="section-image">
  </section>

  <!-- SECCIÓN 1.3: Desafíos actuales -->
  <section class="section" id="challenge">
    <h3>1.3 Desafíos actuales</h3>
    <p>El dinero digital, a pesar de sus ventajas, enfrenta importantes desafíos en su camino hacia la adopción global:</p>
    <ul>
      <li><strong>Volatilidad:</strong> Muchas criptomonedas sufren fluctuaciones bruscas de precio, lo que puede generar incertidumbre para usuarios e inversores.</li>
      <li><strong>Falta de regulación:</strong> La ausencia de marcos legales claros en varios países genera desconfianza y dificulta su integración al sistema financiero tradicional.</li>
      <li><strong>Adopción masiva:</strong> Aún existen barreras tecnológicas, educativas y culturales que impiden su uso generalizado.</li>
    </ul>
    
    <label for="volatilitySlider"><strong>Volatilidad actual (simulada):</strong></label>
    <input type="range" min="0" max="100" value="50" class="slider" id="volatilitySlider" oninput="updateVolatilityChart(this.value)">
    <span id="volatilityValue">50%</span>
    
    <!-- Gráfico de barra simulado -->
    <canvas id="volatilityChart" width="400" height="200"></canvas>
    
    <!-- Botón toggle para información extra y gráfico de dona -->
    <button class="toggle-button" data-section="challenge-extra">Más información</button>
    <div class="toggle-content" id="challenge-extra" style="display: none;">
      <p>Información adicional sobre la volatilidad real del mercado, basada en datos actuales:</p>
      <!-- Gráfico de dona con datos reales (CoinGecko) -->
      <canvas id="volatilityDonut" width="400" height="200"></canvas>
      <p>La gráfica de dona muestra el porcentaje de cambio de Bitcoin en las últimas 24 horas (dato real) y el complemento hasta 100%.</p>
    </div>
    
    <img src="assets/images/volatilidad.jpg" alt="Desafíos del Dinero Digital" class="section-image">
  </section>

  <!-- SECCIÓN 1.4: Video explicativo -->
  <section class="section" id="video-explicativo">
    <h3>1.4 Video explicativo</h3>
    <p>Para comprender mejor los conceptos relacionados con Bitcoin y el dinero digital, te invitamos a ver el siguiente video explicativo.</p>
    
    <div class="video-container">
      <video controls class="video-player" id="bitcoinVideo">
        <source src="assets/videos/bitcoin.mp4" type="video/mp4">
        Tu navegador no soporta video HTML5.
      </video>
    </div>
    
    <div class="centered-button">
      <button class="watch-button" onclick="document.getElementById('bitcoinVideo').play()">Ver Video</button>
    </div>
  </section>

  <!-- SECCIÓN 1.5: Futuro del dinero digital -->
  <section class="section" id="future">
    <h3>1.5 Futuro del dinero digital</h3>
    <button class="toggle-button" data-section="future-extra">Más información</button>
    <div class="toggle-content" id="future-extra" style="display: none;">
      <p>El futuro del dinero digital se perfila como un escenario de crecimiento acelerado. Con la adopción cada vez mayor por parte de comercios, gobiernos y consumidores, el dinero digital transformará la forma en que realizamos transacciones y gestionamos nuestras finanzas. Además, las criptomonedas y las monedas digitales emitidas por bancos centrales (CBDC) jugarán un papel clave en la economía global.</p>
      <p>Se espera que más países adopten políticas de regulación que favorezcan la integración de criptomonedas en los sistemas financieros tradicionales. Con el avance de la tecnología blockchain, las transacciones serán más seguras, rápidas y económicas, lo que permitirá una mayor inclusión financiera a nivel mundial.</p>
      
      <!-- Gráfico de proyección -->
      <canvas id="futureChart" width="400" height="200"></canvas>
      
      <p>Este gráfico muestra una proyección de adopción del dinero digital hasta el año 2030, basada en tendencias actuales y una tasa de crecimiento estimada (calculada a partir del cambio de precio en 24h de Bitcoin obtenido de CoinGecko).</p>
    </div>
    <img src="assets/images/futuro-dinero.jpg" alt="Futuro del Dinero Digital" class="section-image">
  </section>

  <!-- JavaScript para toggle y gráficos -->
  <script>
    // Toggle para mostrar/ocultar contenido extra
    document.querySelectorAll('.toggle-button').forEach(button => {
      button.addEventListener('click', function() {
        const targetId = this.getAttribute('data-section');
        const content = document.getElementById(targetId);
        if (content.style.display === 'none' || content.style.display === '') {
          content.style.display = 'block';
          gsap.fromTo(content, { opacity: 0, y: -10 }, { duration: 0.5, opacity: 1, y: 0 });
          this.textContent = 'Ocultar';
        } else {
          gsap.to(content, { duration: 0.5, opacity: 0, y: -10, onComplete: () => {
            content.style.display = 'none';
          }});
          this.textContent = 'Más información';
        }
      });
    });

    // Función para actualizar el gráfico de barra simulado
    function updateVolatilityChart(value) {
      document.getElementById('volatilityValue').innerText = value + '%';
      if (window.volatilityBarChart) {
        window.volatilityBarChart.data.datasets[0].data = [value];
        window.volatilityBarChart.update();
      }
    }

    // Inicialización del gráfico de barra simulado
    const ctxBar = document.getElementById('volatilityChart').getContext('2d');
    window.volatilityBarChart = new Chart(ctxBar, {
      type: 'bar',
      data: {
        labels: ['Volatilidad simulada'],
        datasets: [{
          label: 'Volatilidad (%)',
          data: [50],
          backgroundColor: '#00ffea'
        }]
      },
      options: {
        scales: {
          y: {
            beginAtZero: true,
            max: 100
          }
        }
      }
    });

    // Función para obtener datos reales de volatilidad de Bitcoin mediante CoinGecko
    async function fetchVolatilityData() {
      try {
        const response = await fetch("https://api.coingecko.com/api/v3/coins/bitcoin");
        const data = await response.json();
        const volatility = Math.abs(data.market_data.price_change_percentage_24h) || 0;
        return volatility;
      } catch (error) {
        console.error("Error al obtener datos de CoinGecko:", error);
        return 0;
      }
    }

    // Inicializa el gráfico de dona (datos reales) en la sección 1.3
    document.addEventListener("DOMContentLoaded", async () => {
      const volatilityReal = await fetchVolatilityData();
      const ctxDonut = document.getElementById('volatilityDonut').getContext('2d');
      new Chart(ctxDonut, {
        type: 'doughnut',
        data: {
          labels: ['Cambio 24h', 'Resto hasta 100%'],
          datasets: [{
            data: [volatilityReal, Math.max(0, 100 - volatilityReal)],
            backgroundColor: ['#00ffea', '#444'],
            borderColor: '#fff',
            borderWidth: 1
          }]
        },
        options: {
          plugins: {
            tooltip: {
              callbacks: {
                label: function(context) {
                  if (context.label === 'Cambio 24h') {
                    return `Volatilidad real: ${volatilityReal.toFixed(2)}%`;
                  } else {
                    return `Resto: ${(100 - volatilityReal).toFixed(2)}%`;
                  }
                }
              }
            },
            legend: {
              display: true,
              position: 'bottom'
            }
          }
        }
      });
    });

    // Inicialización del gráfico de proyección en la sección 1.5
    async function fetchGrowthRate() {
      try {
        const response = await fetch("https://api.coingecko.com/api/v3/coins/bitcoin");
        const data = await response.json();
        const growthRate = data.market_data.price_change_percentage_24h || 0;
        return growthRate;
      } catch (error) {
        console.error("Error al obtener datos de CoinGecko:", error);
        return 0;
      }
    }

    document.addEventListener("DOMContentLoaded", async () => {
      const rate = await fetchGrowthRate();
      let baseAdoption = 15; // Valor de adopción inicial en 2023 (%)
      const years = ['2023', '2024', '2025', '2026', '2027', '2028', '2029', '2030'];
      const projectionData = [];
      for (let i = 0; i < years.length; i++) {
        if (i === 0) {
          projectionData.push(baseAdoption.toFixed(2));
        } else {
          baseAdoption = baseAdoption * (1 + rate / 100);
          if (baseAdoption > 100) baseAdoption = 100;
          projectionData.push(baseAdoption.toFixed(2));
        }
      }
      const ctxFuture = document.getElementById('futureChart').getContext('2d');
      new Chart(ctxFuture, {
        type: 'line',
        data: {
          labels: years,
          datasets: [{
            label: 'Proyección de adopción (%)',
            data: projectionData,
            fill: true,
            borderColor: '#00f0ff',
            backgroundColor: 'rgba(0, 240, 255, 0.2)',
            tension: 0.4,
            pointBackgroundColor: '#00f0ff'
          }]
        },
        options: {
          plugins: { legend: { display: true } },
          scales: {
            y: {
              beginAtZero: true,
              max: 100,
              ticks: { callback: value => value + '%' }
            }
          }
        }
      });
    });
  </script>
</body>
</html>
